//InputProcess :
//Input : string userInput
//Output : string domain or false
//Description : Takes string input and checks if string is a valid email. Tests format with regex, tests company

var InputProcess = function(userInput){
  var emailAddress;
  const invalidEmail = ['gmail.com','googlemail.com'];
  var emailExpression = /^[^\s@]+@[^\s@]+\.[^\s@]+$/

  try {
    if (!emailExpression.test(userInput[2])) throw "Invalid email format";
    emailAddress = userInput[2];
    domain = emailAddress.slice(emailAddress.indexOf("@") + 1);
    if (invalidEmail.includes(domain)) throw "Non-company email domain";
  }

  catch (error){
    console.log("Error : " + error);
    return false;
  }

  return domain;
}

module.exports = InputProcess;
